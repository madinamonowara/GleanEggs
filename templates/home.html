<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grocery List - GleanEggs</title>
    <link href="https://fonts.googleapis.com/css2?family=Boldonse&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static',filename='styles/navbarstyle.css') }}">
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background: #f9f9f9;
            margin: 0;
            padding: 0;
        }

        .top-menu {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: white;
            padding: 20px 30px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            border: 2px solid #4CAF50;
            border-left: none;
            border-right: none;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .logo-section {
            display: flex;
            align-items: center;
        }

        .logo {
            width: 60px;
        }

        .logo-text {
            font-family: 'Boldonse', sans-serif;
            font-size: 28px;
            margin-left: 10px;
        }

        .nav-buttons {
            display: flex;
            gap: 15px;
        }

        .nav-buttons button {
            font-size: 16px;
            padding: 10px 15px;
            border: 2px solid #4CAF50;
            background: white;
            border-radius: 10px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .nav-buttons button:hover {
            background-color: #e8f5e9;
        }
    </style>
</head>
<body>
    <header>
        <nav class="top-menu">
            <div class="logo-section">
                <img class="logo" src="/static/images/gleaneggs_logo.jpg" alt="GleanEggs Logo">
                <span class="logo-text">GleanEggs</span>
            </div>
            <div class="nav-buttons">
                <button onclick="location.href='recipes.html'">üç≥ Recipes</button>
                <button onclick="location.href='product_list.html'">üìä Products</button>
                <button onclick="location.href='home.html'">üõí Grocery List</button>
                <button onclick="location.href='preferences.html'">üîß Preferences</button>
                <button onclick="location.href='login.html'">üëã Log Out</button>
            </div>
        </nav>
    </header>

    <main style="padding: 20px; max-width: 768px; margin: auto;">
        {% if list %}
        <h2>Hey, {{name}}! Here‚Äôs Your Grocery List</h2>

        <section class="grocery-list" id="groceryList">
            <a href="product.html?code=APU0000711111" class="grocery-item-link">
            <div class="grocery-item" data-name="Apples" data-quantity="2" id="item-1" onclick="event.stopPropagation();">
                <input type="checkbox" class="checkbox" onclick="event.stopPropagation();">
                <img src="https://hips.hearstapps.com/hmg-prod/images/ripe-apple-royalty-free-image-1659454396.jpg?crop=0.924xw:0.679xh;0.0197xw,0.212xh&resize=980:*" alt="Apples" width="50">
                <div class="item-details">
                    <p class="item-name">Apples 2x</p>
                    <p class="item-price">$2.99 at Whole Foods</p>
                </div>
                <button class="remove-item" onclick="event.stopPropagation(); removeItem(1)">‚ùå</button>
            </div>
            </a>

            <a href="product.html?code=APU0000708111" class="grocery-item-link">
            <div class="grocery-item" data-name="Eggs" data-quantity="1" id="item-2" onclick="event.stopPropagation();">
                <input type="checkbox" class="checkbox" onclick="event.stopPropagation();">
                <img src="https://dtgxwmigmg3gc.cloudfront.net/imagery/assets/derivations/icon/256/256/true/eyJpZCI6IjYxOTFkMjY5ZGRlMDExYTQwMTE0NWFjZDdkNmE1YjUzLnBuZyIsInN0b3JhZ2UiOiJwdWJsaWNfc3RvcmUifQ?signature=0bf11805abb214f348c94973995475c345399572376edfad484b9ac777818047" alt="Eggs" width="50">
                <div class="item-details">
                    <p class="item-name">Eggs 1x</p>
                    <p class="item-price">$3.49 at Whole Foods</p>
                </div>
                <button class="remove-item" onclick="event.stopPropagation(); removeItem(2)">‚ùå</button>
            </div>
            </a>
        </section>

        <button onclick="clearList()">Remake List</button>

        <section class="saved-list" id="savedList">
            <h3>Saved for Later:</h3>
        </section>
        {% else %}
        <h2>Hi {{ name }}, let's make a list!</h2>
        <button onclick="saveForLater()">Start New List</button>
        {% endif %}
    </main>

    <script>
        const products = [
            { name: "Flour", code: "APU0000701111" },
            { name: "Rice", code: "APU0000701312" },
            { name: "Spaghetti and macaroni", code: "APU0000701322" },
            { name: "Bread", code: "APU0000702111" },
            { name: "Bread: whole wheat", code: "APU0000702212" },
            { name: "Cookies", code: "APU0000702421" },
            { name: "Ground chuck", code: "APU0000703111" },
            { name: "Ground beef", code: "APU0000703112" },
            { name: "Ground beef: lean and extra lean", code: "APU0000703113" },
            { name: "All uncooked ground beef", code: "APU0000FC1101" },
            { name: "Chuck roast", code: "APU0000703212" },
            { name: "Chuck roast: USDA Choice", code: "APU0000703213" },
            { name: "Round roast", code: "APU0000703311" },
            { name: "Round roast: graded and ungraded", code: "APU0000703312" },
            { name: "All Uncooked Beef Roasts", code: "APU0000FC2101" },
            { name: "Steak", code: "APU0000703511" },
            { name: "Steak: round", code: "APU0000703512" },
            { name: "Steak: sirloin", code: "APU0000703612" },
            { name: "Beef for stew", code: "APU0000703432" },
            { name: "All Uncooked Beef Steaks", code: "APU0000FC3101" },
            { name: "All Uncooked Other Beef (Excluding Veal)", code: "APU0000FC4101" },
            { name: "Bacon", code: "APU0000704111" },
            { name: "Chops", code: "APU0000704211" },
            { name: "Chops: boneless", code: "APU0000704212" },
            { name: "All Pork Chops", code: "APU0000FD3101" },
            { name: "Ham", code: "APU0000704311" },
            { name: "Ham: boneless", code: "APU0000704312" },
            { name: "All Ham (Excluding Canned Ham and Luncheon Slices)", code: "APU0000FD2101" },
            { name: "All Other Pork (Excluding Canned Ham and Luncheon Slices)", code: "APU0000FD4101" },
            { name: "Bologna", code: "APU0000705121" },
            { name: "Chicken", code: "APU0000706111" },
            { name: "Chicken breast", code: "APU0000706211" },
            { name: "Chicken breast: boneless", code: "APU0000FF1101" },
            { name: "Chicken legs", code: "APU0000706212" },
            { name: "Turkey", code: "APU0000706311" },
            { name: "Eggs", code: "APU0000708111" },
            { name: "Milk", code: "APU0000709112" },
            { name: "Butter", code: "APU0000710111" },
            { name: "American processed cheese", code: "APU0000710211" },
            { name: "Cheddar cheese", code: "APU0000710212" },
            { name: "Ice cream", code: "APU0000710411" },
            { name: "Apple", code: "APU0000711111" },
            { name: "Banana", code: "APU0000711211" },
            { name: "Orange", code: "APU0000711311" },
            { name: "Oranges: Valencia", code: "APU0000711312" },
            { name: "Cherries", code: "APU0000711418" },
            { name: "Grapefruit", code: "APU0000711411" },
            { name: "Grapes", code: "APU0000711417" },
            { name: "Lemon", code: "APU0000711412" },
            { name: "Peach", code: "APU0000711414" },
            { name: "Pear", code: "APU0000711413" },
            { name: "Strawberries", code: "APU0000711415" },
            { name: "Potato", code: "APU0000712112" },
            { name: "Lettuce", code: "APU0000712211" },
            { name: "Lettuce: romaine", code: "APU0000FL2101" },
            { name: "Tomato", code: "APU0000712311" },
            { name: "Broccoli", code: "APU0000712412" },
            { name: "Cabbage", code: "APU0000712401" },
            { name: "Carrot", code: "APU0000712403" },
            { name: "Celery", code: "APU0000712402" },
            { name: "Pepper", code: "APU0000712406" },
            { name: "Orange juice", code: "APU0000713111" },
            { name: "Beans", code: "APU0000714233" },
            { name: "Sugar", code: "APU0000715211" },
            { name: "Sugar: white", code: "APU0000715212" },
            { name: "Margarine", code: "APU0000716114" },
            { name: "Margarine: soft", code: "APU0000716116" },
            { name: "Peanut butter", code: "APU0000716141" },
            { name: "Cola", code: "APU0000717114" },
            { name: "Coffee", code: "APU0000717311" },
            { name: "Potato chips", code: "APU0000718311" },
            { name: "Malt beverages", code: "APU0000720111" },
            { name: "Wine", code: "APU0000720311" }
        ];

        function removeItem(itemId) {
            const item = document.getElementById('item-' + itemId);
            let quantity = parseInt(item.dataset.quantity);
            if (quantity > 1) {
                quantity--;
                item.dataset.quantity = quantity;
                item.querySelector('.item-name').textContent = item.dataset.name + ' ' + quantity + 'x';
            } else {
                item.remove();
            }
        }

        function clearList() {
            const list = document.getElementById('groceryList');
            list.innerHTML = '';
        }

        function saveForLater() {
            const checkboxes = document.querySelectorAll('.grocery-list .checkbox');
            const savedList = document.getElementById('savedList');
            checkboxes.forEach((checkbox) => {
                if (checkbox.checked) {
                    const item = checkbox.closest('.grocery-item');
                    savedList.appendChild(item);
                    checkbox.checked = false;
                }
            });
        }
    </script>
</body>
</html>
